var T=Object.defineProperty;var P=(t,e,n)=>e in t?T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $=(t,e,n)=>(P(t,typeof e!="symbol"?e+"":e,n),n);import{D as W,e as L,s as S,k as H,d as N,g as G,p as R,v as q,N as j}from"./chunks/framework.291945aa.js";import{S as v,b as Q,r as Y,g as X,s as B,a as J,z as K}from"./chunks/zoom.4214519b.js";function V(t){return typeof t=="string"?new v([document.querySelectorAll(t)],[document.documentElement]):new v([Q(t)],Y)}function Z(t){var e=0,n=t.children,i=n&&n.length;if(!i)e=1;else for(;--i>=0;)e+=n[i].value;t.value=e}function k(){return this.eachAfter(Z)}function tt(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this}function et(t,e){for(var n=this,i=[n],o,a,l=-1;n=i.pop();)if(t.call(e,n,++l,this),o=n.children)for(a=o.length-1;a>=0;--a)i.push(o[a]);return this}function nt(t,e){for(var n=this,i=[n],o=[],a,l,m,y=-1;n=i.pop();)if(o.push(n),a=n.children)for(l=0,m=a.length;l<m;++l)i.push(a[l]);for(;n=o.pop();)t.call(e,n,++y,this);return this}function rt(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i}function it(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,o=i&&i.length;--o>=0;)n+=i[o].value;e.value=n})}function at(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function ot(t){for(var e=this,n=st(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var o=i.length;t!==n;)i.splice(o,0,t),t=t.parent;return i}function st(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),o=null;for(t=n.pop(),e=i.pop();t===e;)o=t,t=n.pop(),e=i.pop();return o}function lt(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function ut(){return Array.from(this)}function ht(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function ct(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*ft(){var t=this,e,n=[t],i,o,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,i=t.children)for(o=0,a=i.length;o<a;++o)n.push(i[o]);while(n.length)}function D(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=mt)):e===void 0&&(e=pt);for(var n=new M(t),i,o=[n],a,l,m,y;i=o.pop();)if((l=e(i.data))&&(y=(l=Array.from(l)).length))for(i.children=l,m=y-1;m>=0;--m)o.push(a=l[m]=new M(l[m])),a.parent=i,a.depth=i.depth+1;return n.eachBefore(xt)}function dt(){return D(this).eachBefore(gt)}function pt(t){return t.children}function mt(t){return Array.isArray(t)?t[1]:null}function gt(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function xt(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function M(t){this.data=t,this.depth=this.height=0,this.parent=null}M.prototype=D.prototype={constructor:M,count:k,each:tt,eachAfter:nt,eachBefore:et,find:rt,sum:it,sort:at,path:ot,ancestors:lt,descendants:ut,leaves:ht,links:ct,copy:dt,[Symbol.iterator]:ft};function yt(t,e){return t.parent===e.parent?1:2}function E(t){var e=t.children;return e?e[0]:t.t}function z(t){var e=t.children;return e?e[e.length-1]:t.t}function wt(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function _t(t){for(var e=0,n=0,i=t.children,o=i.length,a;--o>=0;)a=i[o],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function Ot(t,e,n){return t.a.parent===e.parent?t.a:n}function A(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}A.prototype=Object.create(M.prototype);function It(t){for(var e=new A(t,0),n,i=[e],o,a,l,m;n=i.pop();)if(a=n._.children)for(n.children=new Array(m=a.length),l=m-1;l>=0;--l)i.push(o=n.children[l]=new A(a[l],l)),o.parent=n;return(e.parent=new A(null,0)).children=[e],e}function Ft(){var t=yt,e=1,n=1,i=null;function o(s){var f=It(s);if(f.eachAfter(a),f.parent.m=-f.z,f.eachBefore(l),i)s.eachBefore(y);else{var g=s,u=s,p=s;s.eachBefore(function(x){x.x<g.x&&(g=x),x.x>u.x&&(u=x),x.depth>p.depth&&(p=x)});var c=g===u?1:t(g,u)/2,d=c-g.x,O=e/(u.x+c+d),w=n/(p.depth||1);s.eachBefore(function(x){x.x=(x.x+d)*O,x.y=x.depth*w})}return s}function a(s){var f=s.children,g=s.parent.children,u=s.i?g[s.i-1]:null;if(f){_t(s);var p=(f[0].z+f[f.length-1].z)/2;u?(s.z=u.z+t(s._,u._),s.m=s.z-p):s.z=p}else u&&(s.z=u.z+t(s._,u._));s.parent.A=m(s,u,s.parent.A||g[0])}function l(s){s._.x=s.z+s.parent.m,s.m+=s.parent.m}function m(s,f,g){if(f){for(var u=s,p=s,c=f,d=u.parent.children[0],O=u.m,w=p.m,x=c.m,F=d.m,I;c=z(c),u=E(u),c&&u;)d=E(d),p=z(p),p.a=s,I=c.z+x-u.z-O+t(c._,u._),I>0&&(wt(Ot(c,s,g),s,I),O+=I,w+=I),x+=c.m,O+=u.m,F+=d.m,w+=p.m;c&&!z(p)&&(p.t=c,p.m+=x-w),u&&!E(d)&&(d.t=u,d.m+=O-F,g=s)}return g}function y(s){s.x*=e,s.y=s.depth*n}return o.separation=function(s){return arguments.length?(t=s,o):t},o.size=function(s){return arguments.length?(i=!1,e=+s[0],n=+s[1],o):i?null:[e,n]},o.nodeSize=function(s){return arguments.length?(i=!0,e=+s[0],n=+s[1],o):i?[e,n]:null},o}Date.now===void 0&&(Date.now=function(){return new Date().valueOf()});var _=_||function(){var t=[];return{REVISION:"8",getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);n!==-1&&t.splice(n,1)},update:function(e){if(t.length===0)return!1;var n=0,i=t.length;for(e=e!==void 0?e:Date.now();n<i;)t[n].update(e)?n++:(t.splice(n,1),i--);return!0}}}();_.Tween=function(t){var e=t,n={},i={},o=1e3,a=0,l=null,m=_.Easing.Linear.None,y=_.Interpolation.Linear,s=[],f=null,g=!1,u=null,p=null;this.to=function(c,d){return d!==void 0&&(o=d),i=c,this},this.start=function(c){_.add(this),g=!1,l=c!==void 0?c:Date.now(),l+=a;for(var d in i)if(!(e[d]===null||!(d in e))){if(i[d]instanceof Array){if(i[d].length===0)continue;i[d]=[e[d]].concat(i[d])}n[d]=e[d]}return this},this.stop=function(){return _.remove(this),this},this.delay=function(c){return a=c,this},this.easing=function(c){return m=c,this},this.interpolation=function(c){return y=c,this},this.chain=function(){return s=arguments,this},this.onStart=function(c){return f=c,this},this.onUpdate=function(c){return u=c,this},this.onComplete=function(c){return p=c,this},this.update=function(c){if(c<l)return!0;g===!1&&(f!==null&&f.call(e),g=!0);var d=(c-l)/o;d=d>1?1:d;var O=m(d);for(var w in n){var x=n[w],F=i[w];F instanceof Array?e[w]=y(F,O):e[w]=x+(F-x)*O}if(u!==null&&u.call(e,O),d==1){p!==null&&p.call(e);for(var I=0,U=s.length;I<U;I++)s[I].start(c);return!1}return!0}};_.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,n=.1,i=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)))},Out:function(t){var e,n=.1,i=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},InOut:function(t){var e,n=.1,i=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-_.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?_.Easing.Bounce.In(t*2)*.5:_.Easing.Bounce.Out(t*2-1)*.5+.5}}};_.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),a=_.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],i):e>1?a(t[n],t[n-1],n-i):a(t[o],t[o+1>n?n:o+1],i-o)},Bezier:function(t,e){var n=0,i=t.length-1,o=Math.pow,a=_.Interpolation.Utils.Bernstein,l;for(l=0;l<=i;l++)n+=o(1-e,i-l)*o(e,l)*t[l]*a(i,l);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),a=_.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(o=Math.floor(i=n*(1+e))),a(t[(o-1+n)%n],t[o],t[(o+1)%n],t[(o+2)%n],i-o)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(a(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):a(t[o?o-1:0],t[o],t[n<o+1?n:o+1],t[n<o+2?n:o+2],i-o)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=_.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1,i;if(t[e])return t[e];for(i=e;i>1;i--)n*=i;return t[e]=n}}(),CatmullRom:function(t,e,n,i,o){var a=(n-t)*.5,l=(i-e)*.5,m=o*o,y=o*m;return(2*e-2*n+a+l)*y+(-3*e+3*n-2*a-l)*m+a*o+e}}};var bt=_;const Mt=X(bt),C=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)});const At={id:"org"},Dt={setup(t){let e={id:"abc1005",name:" 山东吠舍科技有限责任公司 ",children:[{id:"abc1006",name:" 山东第一首陀罗科技服务有限公司 ",percent:"100%"},{id:"abc1007",name:" 山东第二首陀罗程技术有限公司 ",percent:"100%"},{id:"abc1008",name:" 山东第三首陀罗光伏材料有限公司 ",percent:"100%"},{id:"abc1009",name:" 山东第四首陀罗科技发展有限公司 ",percent:"100%",children:[{id:"abc1010",name:" 山东第一达利特瑞利分析仪器有限公司 ",percent:"100%",children:[{id:"abc1011",name:" 山东瑞利的子公司一 ",percent:"80%"},{id:"abc1012",name:" 山东瑞利的子公司二 ",percent:"90%"},{id:"abc1013",name:" 山东瑞利的子公司三 ",percent:"100%"}]}]},{id:"abc1014",name:" 山东第五首陀罗电工科技有限公司 ",percent:"100%",children:[{id:"abc1015",name:" 山东第二达利特低自动化设备有限公司 ",percent:"100%",children:[{id:"abc1016",name:" 山东敬业的子公司一 ",percent:"100%"},{id:"abc1017",name:" 山东敬业的子公司二 ",percent:"90%"}]}]},{id:"abc1020",name:" 山东第六首陀罗分析仪器 (集团) 有限责任公司 ",percent:"100%",children:[{id:"abc1021",name:" 山东第三达利特分气体工业有限公司 "}]}],parents:[{id:"abc2001",name:" 山东刹帝利集团有限责任公司 ",percent:"60%",parents:[{id:"abc2000",name:" 山东婆罗门集团有限公司 ",percent:"100%"}]},{id:"u0EKSh",name:"Pink",percent:"40%"},{id:"ic6f1j",name:"Ancient",percent:"40%"}]};function n(){Mt.update(),requestAnimationFrame(n)}return W(()=>{n();class i{constructor(a){$(this,"memo",new Map);this.originTreeData=a.originTreeData,this.el=a.el,this.nodeClickEvent=a.nodeClickEvent||function(l,m){alert(m.name)},this.config={dx:200,dy:170,width:0,height:0,rectWidth:170,rectHeight:70},this.svg=null,this.gAll=null,this.gLinks=null,this.gNodes=null,this.tree=null,this.rootOfDown=null,this.rootOfUp=null,this.drawChart({type:"fold"})}drawChart(a){let l=B(this.el),y=l.node().getBoundingClientRect();this.config.width=y.width,this.config.height=y.height;let s=B("svg");s.empty()||s.remove();const f=J("svg").attr("viewBox",()=>{let u=this.originTreeData.parents?this.originTreeData.parents.length:0;return[-this.config.width/2,u>0?-this.config.height/2:-this.config.height/3,this.config.width,this.config.height]}).style("user-select","none").style("cursor","move"),g=f.append("g").attr("id","all");f.call(K().scaleExtent([.2,5]).on("zoom",u=>{g.attr("transform",()=>`translate(${u.transform.x},${u.transform.y}) scale(${u.transform.k})`)})).on("dblclick.zoom",null),this.gAll=g,this.gLinks=g.append("g").attr("id","linkGroup"),this.gNodes=g.append("g").attr("id","nodeGroup"),this.tree=Ft().nodeSize([this.config.dx,this.config.dy]),this.rootOfDown=D(this.originTreeData,u=>u.children),this.rootOfUp=D(this.originTreeData,u=>u.parents),this.tree(this.rootOfDown),[this.rootOfDown.descendants(),this.rootOfUp.descendants()].forEach(u=>{u.forEach(p=>{p._children=p.children||null,a.type==="all"?p.children=p._children:a.type==="fold"&&p.depth&&(p.children=null)})}),f.append("marker").attr("id","markerOfDown").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",55).attr("refY",0).attr("markerWidth",10).attr("markerHeight",10).attr("orient","90").attr("stroke-width",2).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#215af3"),f.append("marker").attr("id","markerOfUp").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",-50).attr("refY",0).attr("markerWidth",10).attr("markerHeight",10).attr("orient","90").attr("stroke-width",2).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#215af3"),this.svg=f,this.update(),l.append(function(){return f.node()})}update(a){a||(a={x0:0,y0:0},this.rootOfDown.x0=0,this.rootOfDown.y0=0,this.rootOfUp.x0=0,this.rootOfUp.y0=0);let l=this.rootOfDown.descendants().reverse(),m=this.rootOfDown.links(),y=this.rootOfUp.descendants().reverse(),s=this.rootOfUp.links();this.tree(this.rootOfDown),this.tree(this.rootOfUp);const f=this.svg.transition().duration(500),g=this.gNodes.selectAll("g.nodeOfDownItemGroup").data(l,r=>r.data.id),u=g.enter().append("g").attr("class","nodeOfDownItemGroup").attr("transform",r=>`translate(${a.x0},${a.y0})`).attr("fill-opacity",0).attr("stroke-opacity",0).style("cursor","pointer");u.append("rect").attr("width",r=>r.depth===0?(r.data.name.length+2)*16:this.config.rectWidth).attr("height",r=>r.depth===0?30:this.config.rectHeight).attr("x",r=>r.depth===0?-(r.data.name.length+2)*16/2:-this.config.rectWidth/2).attr("y",r=>r.depth===0?-15:-this.config.rectHeight/2).attr("rx",5).attr("stroke-width",1).attr("stroke",r=>r.depth===0?"#5682ec":"#7A9EFF").attr("fill",r=>r.depth===0?"#7A9EFF":"#FFFFFF").on("click",(r,h)=>{this.nodeClickEvent.bind(this)(r,h)}),u.append("text").attr("class","main-title").attr("x",r=>0).attr("y",r=>r.depth===0?5:-14).attr("text-anchor",r=>"middle").text(r=>r.depth===0?r.data.name:r.data.name.length>11?r.data.name.substring(0,11):r.data.name).attr("fill",r=>r.depth===0?"#FFFFFF":"#000000").style("font-size",r=>r.depth===0?16:14).style("font-family"," 黑体 ").style("font-weight","bold"),u.append("text").attr("class","sub-title").attr("x",r=>0).attr("y",r=>5).attr("text-anchor",r=>"middle").text(r=>{if(r.depth!==0){let h=r.data.name.substring(11);return h.length>10?h.substring(0,10)+"...":h}}).style("font-size",r=>14).style("font-family"," 黑体 ").style("font-weight","bold"),u.append("text").attr("class","percent").attr("x",r=>12).attr("y",r=>-45).text(r=>{if(r.depth!==0)return r.data.percent}).attr("fill","#000000").style("font-family"," 黑体 ").style("font-size",r=>14);const p=u.append("g").attr("class","expandBtn").attr("transform",r=>`translate(0,${this.config.rectHeight/2})`).style("display",r=>{if(r.depth===0||!r._children)return"none"}).on("click",(r,h)=>{h.children?(h._children=h.children,h.children=null):h.children=h._children,this.update(h)});p.append("circle").attr("r",8).attr("fill","#7A9EFF").attr("cy",8),p.append("text").attr("text-anchor","middle").attr("fill","#ffffff").attr("y",13).style("font-size",16).style("font-family"," 微软雅黑 ").text(r=>r.children?"-":"+");const c=this.gLinks.selectAll("path.linkOfDownItem").data(m,r=>r.target.data.id),d=c.enter().append("path").attr("class","linkOfDownItem").attr("id",r=>{let h=C();const b=r.source.data.id;return this.memo.has(b)?this.memo.set(b,{...this.memo.get(b),linkOfDownItem:h}):this.memo.set(b,{linkOfDownItem:h}),h}).attr("d",r=>{let h={source:{x:a.x0,y:a.y0},target:{x:a.x0,y:a.y0}};return this.drawLink(h)}).attr("fill","none").attr("stroke","#7A9EFF").attr("stroke-width",1).attr("marker-end","url(#markerOfDown)");g.merge(u).transition(f).attr("transform",r=>`translate(${r.x},${r.y})`).attr("fill-opacity",1).attr("stroke-opacity",1),g.exit().transition(f).remove().attr("transform",r=>`translate(${a.x0},${a.y0})`).attr("fill-opacity",0).attr("stroke-opacity",0),c.merge(d).transition(f).attr("d",this.drawLink),c.exit().transition(f).remove().attr("d",r=>{let h={source:{x:a.x,y:a.y},target:{x:a.x,y:a.y}};return this.drawLink(h)}),y.forEach(r=>{r.y=-r.y});const O=this.gNodes.selectAll("g.nodeOfUpItemGroup").data(y,r=>r.data.id),w=O.enter().append("g").attr("class","nodeOfUpItemGroup").attr("transform",r=>`translate(${a.x0},${a.y0})`).attr("fill-opacity",0).attr("stroke-opacity",0).style("cursor","pointer");w.append("rect").attr("width",r=>r.depth===0?(r.data.name.length+2)*16:this.config.rectWidth).attr("height",r=>r.depth===0?30:this.config.rectHeight).attr("x",r=>r.depth===0?-(r.data.name.length+2)*16/2:-this.config.rectWidth/2).attr("y",r=>r.depth===0?-15:-this.config.rectHeight/2).attr("rx",5).attr("stroke-width",1).attr("stroke",r=>r.depth===0?"#5682ec":"#7A9EFF").attr("fill",r=>r.depth===0?"#7A9EFF":"#FFFFFF").on("click",(r,h)=>{this.nodeClickEvent(r,h)}),w.append("text").attr("class","main-title").attr("x",r=>0).attr("y",r=>r.depth===0?5:-14).attr("text-anchor",r=>"middle").text(r=>r.depth===0?r.data.name:r.data.name.length>11?r.data.name.substring(0,11):r.data.name).attr("fill",r=>r.depth===0?"#FFFFFF":"#000000").style("font-size",r=>r.depth===0?16:14).style("font-family"," 黑体 ").style("font-weight","bold"),w.append("text").attr("class","sub-title").attr("x",r=>0).attr("y",r=>5).attr("text-anchor",r=>"middle").text(r=>{if(r.depth!==0){let h=r.data.name.substring(11);return h.length>10?h.substring(0,10)+"...":h}}).style("font-size",r=>14).style("font-family"," 黑体 ").style("font-weight","bold"),w.append("text").attr("class","percent").attr("x",r=>12).attr("y",r=>55).text(r=>{if(r.depth!==0)return r.data.percent}).attr("fill","#000000").style("font-family"," 黑体 ").style("font-size",r=>14);const x=w.append("g").attr("class","expandBtn").attr("transform",r=>`translate(0,${-this.config.rectHeight/2})`).style("display",r=>{if(r.depth===0||!r._children)return"none"}).on("click",(r,h)=>{h.children?(h._children=h.children,h.children=null):h.children=h._children,this.update(h)});x.append("circle").attr("r",8).attr("fill","#7A9EFF").attr("cy",-8),x.append("text").attr("text-anchor","middle").attr("fill","#ffffff").attr("y",-3).style("font-size",16).style("font-family"," 微软雅黑 ").text(r=>r.children?"-":"+");const F=this.gLinks.selectAll("path.linkOfUpItem").data(s,r=>r.target.data.id),I=F.enter().append("path").attr("class","linkOfUpItem").attr("id",r=>{let h=C();const b=r.source.data.id;return this.memo.has(b)?this.memo.set(b,{...this.memo.get(b),linkOfUpItem:h}):this.memo.set(b,{linkOfUpItem:h}),h}).attr("d",r=>{let h={source:{x:a.x0,y:a.y0},target:{x:a.x0,y:a.y0}};return this.drawLink(h)}).attr("fill","none").attr("stroke","#7A9EFF").attr("stroke-width",1).attr("marker-end","url(#markerOfUp)");O.merge(w).transition(f).attr("transform",r=>`translate(${r.x},${r.y})`).attr("fill-opacity",1).attr("stroke-opacity",1),O.exit().transition(f).remove().attr("transform",r=>`translate(${a.x0},${a.y0})`).attr("fill-opacity",0).attr("stroke-opacity",0),F.merge(I).transition(f).attr("d",this.drawLink),F.exit().transition(f).remove().attr("d",r=>{let h={source:{x:a.x,y:a.y},target:{x:a.x,y:a.y}};return this.drawLink(h)}),V("g.expandBtn").select("text").transition().text(r=>r.children?"-":"+"),this.rootOfDown.eachBefore(r=>{r.x0=r.x,r.y0=r.y}),this.rootOfUp.eachBefore(r=>{r.x0=r.x,r.y0=r.y})}drawLink({source:a,target:l}){const m=(l.y-a.y)/2,y=a.y+m;return`M${a.x},${a.y} L${a.x},${y} ${l.x},${y} ${l.x},${l.y}`}expandAllNodes(){this.drawChart({type:"all"})}foldAllNodes(){this.drawChart({type:"fold"})}}new i({el:"#org",originTreeData:e,nodeClickEvent:function(o,a){const l=this.memo;console.log(a.data.id,l.get(a.data.id))}})}),(i,o)=>(L(),S("div",At))}},Et={id:"frontmatter-title",tabindex:"-1"},zt=N("a",{class:"header-anchor",href:"#frontmatter-title","aria-label":'Permalink to "{{$frontmatter.title}}"'},"​",-1),Ct=JSON.parse('{"title":"组织结构图","description":"组织结构图,data-science,vis``","frontmatter":{"title":"组织结构图","editLink":"true\'","head":[["meta",{"name":"description","content":"组织结构图,data-science,vis``"}],["meta",{"name":"keywords","content":"org"}]]},"headers":[],"relativePath":"org.md","filePath":"org.md","lastUpdated":1691037939000}'),Ut={name:"org.md"},Lt=H({...Ut,setup(t){return(e,n)=>(L(),S("div",null,[N("h1",Et,[G(R(e.$frontmatter.title)+" ",1),zt]),q(j(Dt))]))}});export{Ct as __pageData,Lt as default};
