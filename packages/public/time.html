<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>
<script src="./vendors/d3_7.8.5.js"></script>

<body>
</body>
<script> const data = {
	value: [0, 1],
	children: [
		{
			value: [0, 2],
			children: [
				{
					value: [0, 3],
					children: [
						{
							value: [0, 4],
							children: [
								{
									value: [0, 5],
									children: [
										{
											value: [0, 6],
											children: [{value: [0, 7]}, {value: [0, 5, 2]}],
										},
										{
											value: [0, 4, 2],
											children: [{value: [0, 4, 1, 2]}, {value: [0, 4, 3]}],
										},
									],
								},
								{
									value: [0, 3, 2],
									children: [
										{
											value: [0, 3, 1, 2],
											children: [{value: [0, 3, 1, 3]}, {value: [0, 3, 1, 1, 2]}],
										},
										{
											value: [0, 3, 3],
											children: [{value: [0, 3, 2, 2]}, {value: [0, 3, 4]}],
										},
									],
								},
							],
						},
						{
							value: [0, 2, 2],
							children: [
								{
									value: [0, 2, 1, 2],
									children: [
										{
											value: [0, 2, 1, 3],
											children: [{value: [0, 2, 1, 4]}, {value: [0, 2, 1, 2, 2]}],
										},
										{
											value: [0, 2, 1, 1, 2],
											children: [{value: [0, 2, 1, 1, 1, 2]}, {value: [0, 2, 1, 1, 3]}],
										},
									],
								},
								{
									value: [0, 2, 3],
									children: [
										{
											value: [0, 2, 2, 2],
											children: [{value: [0, 2, 2, 3]}, {value: [0, 2, 2, 1, 2]}],
										},
										{
											value: [0, 2, 4],
											children: [{value: [0, 2, 3, 2]}, {value: [0, 2, 5]}],
										},
									],
								},
							],
						},
					],
				},
				{
					value: [0, 1, 2],
					children: [
						{
							value: [0, 1, 1, 2],
							children: [
								{
									value: [0, 1, 1, 3],
									children: [
										{
											value: [0, 1, 1, 4],
											children: [{value: [0, 1, 1, 5]}, {value: [0, 1, 1, 3, 2]}],
										},
										{
											value: [0, 1, 1, 2, 2],
											children: [{value: [0, 1, 1, 2, 1, 2]}, {value: [0, 1, 1, 2, 3]}],
										},
									],
								},
								{
									value: [0, 1, 1, 1, 2],
									children: [
										{
											value: [0, 1, 1, 1, 1, 2],
											children: [{value: [0, 1, 1, 1, 1, 3]}, {value: [0, 1, 1, 1, 1, 1, 2]}],
										},
										{
											value: [0, 1, 1, 1, 3],
											children: [{value: [0, 1, 1, 1, 2, 2]}, {value: [0, 1, 1, 1, 4]}],
										},
									],
								},
							],
						},
						{
							value: [0, 1, 3],
							children: [
								{
									value: [0, 1, 2, 2],
									children: [
										{
											value: [0, 1, 2, 3],
											children: [{value: [0, 1, 2, 4]}, {value: [0, 1, 2, 2, 2]}],
										},
										{
											value: [0, 1, 2, 1, 2],
											children: [{value: [0, 1, 2, 1, 1, 2]}, {value: [0, 1, 2, 1, 3]}],
										},
									],
								},
								{
									value: [0, 1, 4],
									children: [
										{
											value: [0, 1, 3, 2],
											children: [{value: [0, 1, 3, 3]}, {value: [0, 1, 3, 1, 2]}],
										},
										{
											value: [0, 1, 5],
											children: [{value: [0, 1, 4, 2]}, {value: [0, 1, 6]}],
										},
									],
								},
							],
						},
					],
				},
			],
		},
		{
			value: [0, 0, 2],
			children: [
				{
					value: [0, 0, 1, 2],
					children: [
						{
							value: [0, 0, 1, 3],
							children: [
								{
									value: [0, 0, 1, 4],
									children: [
										{
											value: [0, 0, 1, 5],
											children: [{value: [0, 0, 1, 6]}, {value: [0, 0, 1, 4, 2]}],
										},
										{
											value: [0, 0, 1, 3, 2],
											children: [{value: [0, 0, 1, 3, 1, 2]}, {value: [0, 0, 1, 3, 3]}],
										},
									],
								},
								{
									value: [0, 0, 1, 2, 2],
									children: [
										{
											value: [0, 0, 1, 2, 1, 2],
											children: [{value: [0, 0, 1, 2, 1, 3]}, {value: [0, 0, 1, 2, 1, 1, 2]}],
										},
										{
											value: [0, 0, 1, 2, 3],
											children: [{value: [0, 0, 1, 2, 2, 2]}, {value: [0, 0, 1, 2, 4]}],
										},
									],
								},
							],
						},
						{
							value: [0, 0, 1, 1, 2],
							children: [
								{
									value: [0, 0, 1, 1, 1, 2],
									children: [
										{
											value: [0, 0, 1, 1, 1, 3],
											children: [{value: [0, 0, 1, 1, 1, 4]}, {value: [0, 0, 1, 1, 1, 2, 2]}],
										},
										{
											value: [0, 0, 1, 1, 1, 1, 2],
											children: [
												{value: [0, 0, 1, 1, 1, 1, 1, 2]},
												{value: [0, 0, 1, 1, 1, 1, 3]},
											],
										},
									],
								},
								{
									value: [0, 0, 1, 1, 3],
									children: [
										{
											value: [0, 0, 1, 1, 2, 2],
											children: [{value: [0, 0, 1, 1, 2, 3]}, {value: [0, 0, 1, 1, 2, 1, 2]}],
										},
										{
											value: [0, 0, 1, 1, 4],
											children: [{value: [0, 0, 1, 1, 3, 2]}, {value: [0, 0, 1, 1, 5]}],
										},
									],
								},
							],
						},
					],
				},
				{
					value: [0, 0, 3],
					children: [
						{
							value: [0, 0, 2, 2],
							children: [
								{
									value: [0, 0, 2, 3],
									children: [
										{
											value: [0, 0, 2, 4],
											children: [{value: [0, 0, 2, 5]}, {value: [0, 0, 2, 3, 2]}],
										},
										{
											value: [0, 0, 2, 2, 2],
											children: [{value: [0, 0, 2, 2, 1, 2]}, {value: [0, 0, 2, 2, 3]}],
										},
									],
								},
								{
									value: [0, 0, 2, 1, 2],
									children: [
										{
											value: [0, 0, 2, 1, 1, 2],
											children: [{value: [0, 0, 2, 1, 1, 3]}, {value: [0, 0, 2, 1, 1, 1, 2]}],
										},
										{
											value: [0, 0, 2, 1, 3],
											children: [{value: [0, 0, 2, 1, 2, 2]}, {value: [0, 0, 2, 1, 4]}],
										},
									],
								},
							],
						},
						{
							value: [0, 0, 4],
							children: [
								{
									value: [0, 0, 3, 2],
									children: [
										{
											value: [0, 0, 3, 3],
											children: [{value: [0, 0, 3, 4]}, {value: [0, 0, 3, 2, 2]}],
										},
										{
											value: [0, 0, 3, 1, 2],
											children: [{value: [0, 0, 3, 1, 1, 2]}, {value: [0, 0, 3, 1, 3]}],
										},
									],
								},
								{
									value: [0, 0, 5],
									children: [
										{
											value: [0, 0, 4, 2],
											children: [{value: [0, 0, 4, 3]}, {value: [0, 0, 4, 1, 2]}],
										},
										{
											value: [0, 0, 6],
											children: [{value: [0, 0, 5, 2]}, {value: [0, 0, 7]}],
										},
									],
								},
							],
						},
					],
				},
			],
		},
	],
};
</script>
<script>
	const body = d3.select('body');
	console.log(`body-->`, body);
	const svg = d3.select('body').append('svg');

	const timeline = (data, size) => d3.tree().size(size)(d3.hierarchy(data));
	const scalar = ([startPos, endPos]) => d3.scaleLinear().domain();
	//  为端点设置事件
	const dragFn = (stickDragLine) => {
		// 移除拖拽连线元素
		return d3
				.drag()
				.on('start', (event) => {
					//   获取点击时候的节点
				})
				.on('drag', (event) => {
					//   开始拖拽
				})

				.on('end', (event) => {
					//   完成拖拽
				});
	};
	const width = 954;
	const height = 600;
	timeline(data, [width, height]);
	const g = () => svg.append('g');
	//   绘制水平轴
	const lineGrounp = g();
	lineGrounp.append('line');
	lineGrounp
			.append('rect')
			.attr('x', 0)
			.attr('y', 0)
			.attr('width', width)
			.attr('height', 20)
			.attr('fill', '#8cc3e5')
			.call(dragFn(lineGrounp));

</script>

</html>
